# ASOI Automation Department Spring Boot

## Документация для разработки

### Описание сущностей базы данных

#### При разработке базы данных должны быть учтены следующие сущности:

1. Таблица пользователей. Она должна включать в себя следующие поля:
    - Уникальный идентификатор: (тип UUID, не может быть пустым, генерируется автоматически) (id)
    - Электронная почта: (тип Varchar, не может быть пустым, уникальное значение) (email)
    - Никнейм: (тип Varchar, не может быть пустым, уникальное значение, уникальное значение) (username)
    - Зашифрованный пароль: (тип Text, не может быть пустым) (hashed_password)
2. Таблица ролей пользователей. Она должна включать в себя следующие поля:
    - Уникальный идентификатор: (тип UUID, не может быть пустым, генерируется автоматически) (id)
    - Имя роли: (тип Varchar, не может быть пустым, уникальное значение) (name)
3. Таблица групп студентов. - Уникальный идентификатор: (тип UUID, не может быть пустым, генерируется автоматически)
    - Уникальный идентификатор: (тип UUID, не может быть пустым, генерируется автоматически) (id)
    - Имя роли: (тип Varchar, не может быть пустым, уникальное значение) (name)
4. Таблица профиля пользователя. Она должна включать в себя следующие поля:
    - Уникальный идентификатор: (тип UUID, не может быть пустым, генерируется автоматически) (id)
    - Фамилия: (тип Varchar, не может быть пустым) (last_name)
    - Имя: (тип Varchar, не может быть пустым) (first_name)
    - Отчество: (тип Varchar, не может быть пустым) (patronymic)
    - Номер телефона: (тип Varchar, не может быть пустым) (phone_number)
    - День рождения: (тип Varchar, не может быть пустым) (birthday)
5. Таблица токенов. Она должна включать в себя следующие поля:
    - Уникальный идентификатор: (тип UUID, не может быть пустым, генерируется автоматически) (id)
    - Токен доступа: (тип Text, не может быть пустым) (access_token)
    - Токен обновления: (тип Text, не может быть пустым) (refresh_token)
    - Состояние токена - истек срок: (тип Boolean, значение по умолчанию: False) (expired)
    - Состояние токена - отмененный: (тип Boolean, значение по умолчанию: False) (revoked)

### Описание взаимоотношений между таблицами базы данных

1. Таблицы пользователи => роли: многие ко многим
2. Таблицы пользователи => группы студентов: многие ко многим
3. Таблицы пользователи => профили: один к одному
4. Таблицы пользователи => токены: один к одному

### Описание маршрутов сервера

#### Для регистрации и авторизации пользователей использовать следующие маршруты:

1. POST /api/v1/auth/register => регистрация пользователей
2. POST /api/v1/auth/login => авторизация пользователей

#### Для работы администратора использовать следующие маршруты:

1. GET /api/v1/admin/users => получение всех зарегистрированных пользователей
2. GET /api/v1/admin/teachers => получение всех преподавателей
3. GET /api/v1/admin/students => получение всех студентов 